*{padding:0;margin:0;box-sizing:border-box}
:root{
  --line-color:linear-gradient(to left top,#82ff86 20%,#144425,#104e1c);
  --flower-center:radial-gradient(circle,#3d2003,#8b4513);
  --leaf-color:radial-gradient(circle,#82ff86,#104e1c);
  --petal-color:radial-gradient(circle,#ff5e00,#ffbb00);
  --dorado-claro:#F9E076;
  --neon-yellow:#ffe600;
  --neon-pink:#ff4bd8;
}

html,body{height:100%}
body{
  background:#000;min-height:100vh;overflow-x:hidden;
  font-family:'Cormorant Garamond',serif;position:relative;color:#fff;
  scroll-behavior:smooth;
}

/* Fondo (sin blur en móvil por rendimiento) */
body::before{
  content:'';position:fixed;inset:0;
  background-image:url('https://www.dl.dropboxusercontent.com/scl/fi/fl2r4nxntvp5g6d1259li/GIRASOLFONDO.png?rlkey=gxwqa1g0gd34r3k0j6v506gd1&st=p40j52o7');
  background-size:cover;background-position:center;filter:blur(2px);opacity:.2;z-index:-1;
}
@media (max-width:640px){ body::before{filter:none;opacity:.16} }
body::after{
  content:'';position:fixed;inset:0;
  background:
    radial-gradient(circle at top right,rgba(255,187,0,.22) 0%,transparent 30%),
    radial-gradient(circle at bottom left,rgba(255,187,0,.22) 0%,transparent 30%);
  z-index:-1;pointer-events:none;
}

/* Pantalla inicio */
.start-screen{position:fixed;inset:0;background:linear-gradient(135deg,#000 0%,#1a1a1a 50%,#000 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;transition:opacity .5s ease-out,visibility .5s ease-out}
.start-screen.hidden{opacity:0;visibility:hidden;pointer-events:none}
.start-title{color:#ffbb00;font-family:'Pacifico',cursive;font-size:clamp(2.1rem,6.8vw,3.1rem);text-align:center;margin-bottom:1.2rem;text-shadow:0 0 14px rgba(255,187,0,.5);animation:glow-pulse 2s ease-in-out infinite alternate}
.start-button{background:linear-gradient(135deg,#ff5e00,#ffbb00);border:none;padding:.85rem 2rem;font-family:'Pacifico',cursive;font-size:1.2rem;color:#fff;border-radius:50px;cursor:pointer;box-shadow:0 8px 22px rgba(255,94,0,.35);transition:.2s}
.start-button::before{content:'🌻';margin-right:10px}
.start-button:hover{transform:translateY(-1px);box-shadow:0 12px 28px rgba(255,94,0,.5)}

.main-content{display:flex;flex-direction:column;align-items:center;min-height:100vh;padding-top:2.1rem;position:relative;z-index:10}

/* ===== Título blanco con halo neón (ligero en móvil) ===== */
.neon-title{display:flex;flex-direction:column;gap:.25rem;align-items:center;text-align:center;margin:0 .8rem 1.1rem}
.neon-title span{font-family:'Pacifico',cursive;font-size:clamp(1.8rem,5.8vw,2.8rem);letter-spacing:.4px;color:#fff}
.neon-outline{ text-shadow:0 0 8px rgba(255,230,0,.6),0 0 14px rgba(255,230,0,.42) }
.neon-sync{animation:neon-cycle 3s ease-in-out infinite}
@keyframes neon-cycle{
  0%,40%{
    text-shadow:0 0 6px rgba(255,230,0,.85),0 0 12px rgba(255,230,0,.55);
    box-shadow:0 0 8px rgba(255,230,0,.35), inset 0 0 8px rgba(255,230,0,.18);
    border-color: rgba(255,230,0,.6);
  }
  60%,100%{
    text-shadow:0 0 6px rgba(255,75,216,.85),0 0 12px rgba(255,75,216,.55);
    box-shadow:0 0 8px rgba(255,75,216,.35), inset 0 0 8px rgba(255,75,216,.18);
    border-color: rgba(255,75,216,.6);
  }
}

/* ===== RAMO (compacto) ===== */
.bouquet{
  position:relative;
  width:min(740px,94vw);
  height:56vh;                 /* fallback */
  margin:0 auto .8rem;
  display:grid; place-items:end center;
  contain:content;
}
@supports(height:1svh){
  .bouquet{height:56svh}       /* viewport real en Android */
}
.bouquet::after{
  content:''; position:absolute; bottom:6%; left:50%; width:10px; height:10px; transform:translateX(-50%); border-radius:50%;
  background:linear-gradient(135deg,#0f3a18,#1b6b2f);
  box-shadow:0 0 8px rgba(60,255,120,.25);
}
.ribbon{
  position:absolute; bottom:5%; left:50%; transform:translateX(-50%) rotate(8deg);
  width:64px; height:12px; border-radius:20px;
  background:linear-gradient(135deg,#ff5e00,#ffbb00);
  box-shadow:0 0 10px rgba(255,160,0,.45);
}
.sunflower{position:absolute; bottom:5%; left:50%; transform-origin:bottom center; will-change:transform}
.f-center{transform:translate(-50%, -2.4vmin) rotate(0deg)}
.f-left{transform:translate(calc(-50% - 78px), -2vmin) rotate(-10deg)}
.f-left-down{transform:translate(calc(-50% - 132px), 0vmin) rotate(-18deg) scale(.96)}
.f-right{transform:translate(calc(-50% + 78px), -2vmin) rotate(10deg)}
.f-right-down{transform:translate(calc(-50% + 132px), 0vmin) rotate(18deg) scale(.96)}

.flower_wrapper{position:relative;animation:moving-flower-sway 4.5s linear infinite, sunflower-glow 2s ease-in-out infinite}
.flower_center{position:absolute;top:0vmin;left:50%;z-index:5;transform:translateX(-50%);width:14.5vmin;height:14.5vmin;border-radius:50%;background:var(--flower-center);animation:open-flower-center 1.5s .4s backwards}
.flower_stem{width:2vmin;height:44vmin;background-image:var(--line-color);border-radius:4vmin;transform-origin:center bottom;animation:grow-stem 1.5s .8s backwards}
.flower_petal{position:absolute;left:50%;z-index:3;bottom:38vmin;width:6vmin;height:16.5vmin;background:var(--petal-color);clip-path:ellipse(50% 50% at 50% 50%);transform-origin:center bottom;opacity:0;animation:draw-petal-effect .6s forwards}
.flower_petal-1{--rotation:0deg;animation-delay:2.2s}
.flower_petal-2{--rotation:-30deg;animation-delay:2.4s}
.flower_petal-3{--rotation:-60deg;animation-delay:2.6s}
.flower_petal-4{--rotation:-90deg;animation-delay:2.8s}
.flower_petal-5{--rotation:-120deg;animation-delay:3.0s}
.flower_petal-6{--rotation:-150deg;animation-delay:3.2s}
.flower_petal-7{--rotation:30deg;animation-delay:2.4s}
.flower_petal-8{--rotation:60deg;animation-delay:2.6s}
.flower_petal-9{--rotation:90deg;animation-delay:2.8s}
.flower_petal-10{--rotation:120deg;animation-delay:3.0s}
.flower_petal-11{--rotation:150deg;animation-delay:3.2s}
.flower_petal-12{--rotation:180deg;animation-delay:2.2s}
.flower_leaf{position:absolute;left:50%;width:6.6vmin;height:15vmin;background:var(--leaf-color);border-radius:10vmin 2vmin 10vmin 2vmin;transform-origin:center bottom;opacity:0}
.flower_leaf-1{bottom:11vmin;--transform-final:translateX(-50%) rotate(90deg);animation:grow-leaf 1.1s cubic-bezier(.68,-.55,.27,1.55) 3.8s forwards}
.flower_leaf-2{bottom:15vmin;--transform-final:translateX(-50%) rotate(-90deg);animation:grow-leaf 1.1s cubic-bezier(.68,-.55,.27,1.55) 4.2s forwards}
.center_dot{position:absolute;width:1.25vmin;height:1.25vmin;background:#4a2a07;border-radius:50%;opacity:0;animation:pop-in .6s ease-out forwards}
.center_dot-1{top:25%;left:50%;animation-delay:3.5s}.center_dot-2{top:45%;left:55%;animation-delay:3.6s}.center_dot-3{top:35%;left:35%;animation-delay:3.7s}.center_dot-4{top:60%;left:40%;animation-delay:3.8s}.center_dot-5{top:55%;left:70%;animation-delay:3.9s}.center_dot-6{top:75%;left:50%;animation-delay:4.0s}.center_dot-7{top:30%;left:70%;animation-delay:4.1s}.center_dot-8{top:80%;left:30%;animation-delay:4.2s}

/* ===== Tarjeta única: foto + poema ===== */
.love-message-section{
  width:100%;
  min-height:60vh;             /* fallback */
  padding:1.6rem .9rem;
  display:flex; align-items:center; justify-content:center;
}
@supports(height:1svh){
  .love-message-section{min-height:58svh}
}
.letter-card{
  width:min(1000px,95vw);
  background:rgba(10,10,10,.85);
  border:2px solid; border-radius:16px;
  padding:.9rem;
  display:grid;
  grid-template-columns: 1.15fr 1fr;
  gap:.9rem;
  backdrop-filter: blur(6px);
}
@media (max-width:900px){ .letter-card{grid-template-columns:1fr} }
@media (max-width:640px){ .letter-card{backdrop-filter:none} }

.card-photo img{width:100%;height:auto;display:block;border-radius:12px;transition:opacity .4s ease}
.card-text{color:#fff}
.title-white-glow{font-family:'Pacifico',cursive;color:#fff;font-size:clamp(1.4rem,3.2vw,1.9rem);margin:0 0 .5rem}
.poem{color:#fff;font-size:clamp(.98rem,2.5vw,1.06rem);line-height:1.75;margin-bottom:.7rem;text-align:justify}

/* Botón música */
#musicButton{position:fixed;bottom:14px;left:14px;width:46px;height:46px;background:rgba(255,187,0,.18);border:1px solid rgba(255,187,0,.28);border-radius:50%;cursor:pointer;z-index:100;display:flex;justify-content:center;align-items:center;backdrop-filter:blur(4px);transition:.2s}
#musicButton:hover{background:rgba(255,187,0,.3);transform:scale(1.05)}
#musicButton svg{width:20px;height:20px;fill:#ffbb00}
#pauseIcon{display:none}

/* Partículas (ocultas en móvil) */
.light{position:fixed;width:.8vmin;height:.8vmin;background:#fffb00;border-radius:50%;filter:blur(.15vmin);animation:twinkle 6s linear infinite;z-index:1}
@media (max-width:640px){ .light{display:none} }
.flotantes-container{position:fixed;inset:0;pointer-events:none;z-index:2}
.petalo{position:absolute;opacity:0;color:var(--dorado-claro);font-size:1.1rem;animation:caer 12s linear infinite}

/* Keyframes base */
@keyframes glow-pulse{from{text-shadow:0 0 18px rgba(255,187,0,.45)}to{text-shadow:0 0 26px rgba(255,187,0,.7)}}
@keyframes sunflower-glow{0%{filter:drop-shadow(0 0 16px rgba(255,223,0,.8))}50%{filter:drop-shadow(0 0 26px rgba(255,223,0,.95))}100%{filter:drop-shadow(0 0 16px rgba(255,223,0,.8))}}
@keyframes moving-flower-sway{0%,100%{transform:rotate(4deg)}50%{transform:rotate(-4deg)}}
@keyframes draw-petal-effect{from{opacity:0;transform:translateX(-50%) rotate(var(--rotation)) scale(.85)}to{opacity:1;transform:translateX(-50%) rotate(var(--rotation)) scale(1)}}
@keyframes grow-stem{from{opacity:0;transform:scaleY(0)}to{opacity:1;transform:scaleY(1)}}
@keyframes open-flower-center{from{opacity:0;transform:translateX(-50%) scale(0)}to{opacity:1;transform:translateX(-50%) scale(1)}}
@keyframes grow-leaf{from{opacity:0;transform:translateX(-50%) scale(0)}to{opacity:1;transform:var(--transform-final)}}
@keyframes pop-in{from{opacity:0;transform:scale(.7)}to{opacity:1;transform:scale(1)}}
@keyframes twinkle{0%{opacity:.2;transform:scale(.7) translateY(0)}50%{opacity:1}100%{opacity:.2;transform:scale(1.05) translateY(-16px)}}
@keyframes caer{0%{transform:translateY(-10vh) rotate(0deg);opacity:0}10%{opacity:.6}90%{opacity:.6}100%{transform:translateY(110vh) rotate(360deg);opacity:0}}

.animation-paused *{animation-play-state:paused!important}

/* ===== Modo "mobile-tight" (Android/pequeñas) ===== */
.mobile-tight .neon-title span{font-size:clamp(1.6rem,5.2vw,2.2rem)}
.mobile-tight .bouquet{height:48vh}
@supports(height:1svh){ .mobile-tight .bouquet{height:46svh} }
.mobile-tight .bouquet{width:90vw}
.mobile-tight .f-left{transform:translate(calc(-50% - 64px), -2vmin) rotate(-10deg)}
.mobile-tight .f-right{transform:translate(calc(-50% + 64px), -2vmin) rotate(10deg)}
.mobile-tight .f-left-down{transform:translate(calc(-50% - 104px), 0vmin) rotate(-18deg) scale(.95)}
.mobile-tight .f-right-down{transform:translate(calc(-50% + 104px), 0vmin) rotate(18deg) scale(.95)}
.mobile-tight .letter-card{padding:.75rem;gap:.75rem;width:94vw}
.mobile-tight .poem{font-size:clamp(.95rem,2.4vw,1.02rem);line-height:1.7}

/* Accesibilidad: reducir movimiento */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important}
}
